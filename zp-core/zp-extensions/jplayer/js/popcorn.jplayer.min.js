(function(e){var t="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",n="http://www.jplayer.org/2.3.0/js/jquery.jplayer.min.js",r="http://www.jplayer.org/2.3.0/js/Jplayer.swf",i="html,flash",s=false,o=false,u=false,a={mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:true,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:true,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:true,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:true,media:"video"}},f=function(e){if(e&&typeof e==="object"&&e.hasOwnProperty){return true}else{return false}},l=function(e){var t=false;if(/\.mp3$/i.test(e)){t="mp3"}else if(/\.mp4$/i.test(e)||/\.m4v$/i.test(e)){t="m4v"}else if(/\.m4a$/i.test(e)){t="m4a"}else if(/\.ogg$/i.test(e)||/\.oga$/i.test(e)){t="oga"}else if(/\.ogv$/i.test(e)){t="ogv"}else if(/\.webm$/i.test(e)){t="webmv"}return t},c=function(e){var t="",n="";if(f(e)){for(var r in e){if(e.hasOwnProperty(r)){t+=n+r;n=","}}}if(s)console.log('getSupplied(): Generated: supplied = "'+t+'"');return t};e.player("jplayer",{_canPlayType:function(e,t){var n=e.toLowerCase(),r={media:{},options:{}},s=false,o;if(n!=="video"&&n!=="audio"){if(typeof t==="string"){if(/^http.*/i.test(t)){o=l(t);if(o){r.media[o]=t;r.options.solution=i;r.options.supplied=o}}}else{r=t}if(f(r)&&f(r.media)){if(!f(r.options)){r.options={}}if(!r.options.solution){r.options.solution=i}if(!r.options.supplied){r.options.supplied=c(r.media)}var u=r.options.solution.toLowerCase().split(","),h=r.options.supplied.toLowerCase().split(",");for(var p=0;p<u.length;p++){var d=u[p].replace(/^\s+|\s+$/g,""),v=d==="html",m=d==="flash",g;for(var y=0;y<h.length;y++){o=h[y].replace(/^\s+|\s+$/g,"");if(a[o]){if(!g&&v){g=document.createElement(a[o].media)}var b=!!(g&&g.canPlayType&&g.canPlayType(a[o].codec)),w=b&&v,E=a[o].flashCanPlay&&m;if(w||E){s={html:w,type:o};p=u.length;y=h.length}}}}}}return s},_setup:function(){var a=this,h,p,d="unknown",v={},m={},g=false,y=0,b=null,w=false,E=null,S=function(){if(g){if(s)console.log("Dispatched event : durationchange : "+y);a.dispatchEvent("durationchange")}else{if(s)console.log("DELAYED EVENT (!ready) : durationchange : "+y);clearTimeout(b);b=setTimeout(S,250)}},x=function(){var e=function(e){if(e.jPlayer.status.duration!==y){y=e.jPlayer.status.duration;S()}},t=function(e){if(!w&&e.jPlayer.status.seekPercent===100){w=true;setTimeout(function(){if(s)console.log("Trigger : canplaythrough");p._trigger($.jPlayer.event.canplaythrough)},0)}};h.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){if(s)console.log("Trigger : loadeddata");p._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(n){e(n);t(n)}).bind($.jPlayer.event.timeupdate,function(n){e(n);t(n)}).bind($.jPlayer.event.play,function(){setTimeout(function(){if(s)console.log("Trigger : playing");p._trigger($.jPlayer.event.playing)},0)});if(s)console.log("Created CUSTOM event handlers for FLASH")},T=function(){(function(t){h=t("#"+a.id);if(typeof a.src==="string"){d=l(a.src);v[d]=a.src;m.supplied=d;m.solution=i}else if(f(a.src)){v=f(a.src.media)?a.src.media:{};m=f(a.src.options)?a.src.options:{};m.solution=m.solution||i;m.supplied=m.supplied||c(a.src.media)}m.swfPath=m.swfPath||r;h.bind(t.jPlayer.event.ready,function(e){if(e.jPlayer.flash.used){x()}t(this).jPlayer("setMedia",v).jPlayer("load")});var n=t.jPlayer.reservedEvent+" loadeddata durationchange",o=n.split(/\s+/g);var u=function(e){h.bind(t.jPlayer.event[e],function(t){if(s)console.log("Dispatched event: "+e+(t&&t.jPlayer?" ("+t.jPlayer.status.currentTime+"s)":""));a.dispatchEvent(e)});if(s)console.log("Created event handler for: "+e)};for(var b in t.jPlayer.event){if(t.jPlayer.event.hasOwnProperty(b)){var w=true;for(var T in o){if(o.hasOwnProperty(T)){if(o[T]===b){w=false;break}}}if(w){u(b)}else{if(s)console.log("Skipped auto event handler creation for: "+b)}}}h.bind(t.jPlayer.event.loadeddata,function(e){if(s)console.log("Dispatched event: loadeddata"+(e&&e.jPlayer?" ("+e.jPlayer.status.currentTime+"s)":""));a.dispatchEvent("loadeddata");g=true});if(s)console.log("Created CUSTOM event handler for: loadeddata");h.bind(t.jPlayer.event.durationchange,function(e){y=e.jPlayer.status.duration;S()});if(s)console.log("Created CUSTOM event handler for: durationchange");h.bind(t.jPlayer.event.error,function(e){E=e.jPlayer.error;if(E.type===t.jPlayer.error.URL){E.code=4}else{E.code=0}if(s)console.log("Dispatched event: error");if(s)console.dir(E);a.dispatchEvent("error")});if(s)console.log("Created CUSTOM event handler for: error");e.player.defineProperty(a,"error",{set:function(){return E},get:function(){return E}});e.player.defineProperty(a,"currentTime",{set:function(e){if(p.status.paused){h.jPlayer("pause",e)}else{h.jPlayer("play",e)}return e},get:function(){return p.status.currentTime}});e.player.defineProperty(a,"duration",{set:function(){if(g){return y}else{return NaN}},get:function(){if(g){return y}else{return NaN}}});e.player.defineProperty(a,"muted",{set:function(e){h.jPlayer("mute",e);return p.options.muted},get:function(){return p.options.muted}});e.player.defineProperty(a,"volume",{set:function(e){h.jPlayer("volume",e);return p.options.volume},get:function(){return p.options.volume}});e.player.defineProperty(a,"paused",{set:function(){return p.status.paused},get:function(){return p.status.paused}});a.play=function(){h.jPlayer("play")};a.pause=function(){h.jPlayer("pause")};h.jPlayer(m);p=h.data("jPlayer")})(jQuery)},N=function(){if(!jQuery.jPlayer){if(!u){u=true;e.getScript(n,function(){u=false;T()})}else{setTimeout(N,250)}}else{T()}},C=function(){if(!window.jQuery){if(!o){o=true;e.getScript(t,function(){o=false;N()})}else{setTimeout(C,250)}}else{N()}};C()},_teardown:function(){jQuery("#"+this.id).jPlayer("destroy")}})})(Popcorn)